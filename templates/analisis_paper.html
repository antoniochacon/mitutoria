<!DOCTYPE html>
<html lang="es">
	<head>
		<head>
			<meta charset='utf-8'>
			<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
			<meta name="google-site-verification" content="AXTN5_WXlxKPXLBt-WUrX53GUVa-uiEqeU1xbHSgr8Q"/>
			<title>analisis paper</title>
			<link rel='shortcut icon' href='{{ url_for("static", filename="image/favicon.ico")}}'>
			{# jQuery ha de ser cargado primero #}
			<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
			{# bootstrap JS #}
			<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
			{# Necesario para el esaing del scrollTop y el FAB no usado en estos momentos de Materialize#}
			<!-- <script src='{{url_for("static", filename="css/easing.min.js")}}'></script> -->
			{# toast JS #}
			<!-- <script src='{{url_for("static", filename="css/toastr.min.js")}}'></script> -->
			{# date_picker JS #}
			<!-- <script src='{{url_for("static", filename="css/date_picker.min.js")}}'></script> -->
			<!-- <script src='{{url_for("static", filename="css/date_picker_settings.min.js")}}'></script> -->
			{# clock_picker JS #}
			<!-- <script src='{{url_for("static", filename="css/clock_picker.min.js")}}'></script> -->
			{# highcharts #}
			<script src='https://code.highcharts.com/stock/highstock.js'></script>
			<script src='{{url_for("static", filename="css/highcharts_settings.min.js")}}'></script>
			{# bootstrap custom #}
			<link rel='stylesheet' href='{{url_for("static",filename="css/bootstrap.min.css")}}'>
			<link rel='stylesheet' href='{{url_for("static",filename="css/print_paper.min.css")}}'>
			{# Iconos de Google #}
			<!-- <link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'> -->
			<style>
				@page {
					size: A4 landscape;
				}
			</style>
		</head>
		<!-- Set also "landscape" if you need -->
		<body class="A4 landscape">
			{%from '_macro.html' import titulo_1, highcharts_cuestionario, highcharts_asignaturas, highcharts_asignatura%}
			<!-- Each sheet element should have the class "sheet" -->
			<!-- "padding-**mm" is optional: you can set 10, 15, 20 or 25 -->
			<section class="sheet padding-15mm">
				{{titulo_1(bg_color='bg-dark', titulo='Análisis gráfico de la tutoría')}}
				<div class="row">
					<div class="col">
						<span class="text-mutted">Alumno/a:</span>
						<span class="strong">
							{{alumno.apellidos}},
							{{alumno.nombre}}
						</span>
						<span class="text-mutted pl-2">Grupo:</span>
						<span class="strong">
							{{grupo.nombre}}
						</span>
							<span class="text-mutted pl-2">Tutor:</span>
							<span class="strong">
								{{grupo.tutor_apellidos}}, {{grupo.tutor_nombre}}
							</span>
						<span class="text-mutted pl-2">Fecha:
						</span>
						<span class="strong">
							{{tutoria.fecha.strftime('%b') | capitalize}}
							{{tutoria.fecha.strftime('%A') | capitalize}}
							{{tutoria.fecha.strftime('%d')}}
						</span>
						<span class="text-mutted pl-3">
							Hora:
						</span>
						<span class="strong">{{tutoria.hora.strftime('%H:%M')}}</span>
					</div>
				</div>
				<h6>Analisis del cuestionario</h6>
				{{highcharts_cuestionario(char_id='cuestionario', color='#ffa000', grupo=grupo, tutoria_id=tutoria.id, stats=stats,grupo_stats=grupo_stats)}}
				<h6>Analisis comparativo de asignaturas</h6>
				{{highcharts_asignaturas(char_id='asignaturas', color_1='#ec407a',color_2='#f48fb1', grupo=grupo, tutoria_id=tutoria.id, stats=stats, grupo_stats=grupo_stats)}}
			</section>
			<!-- The second sheet -->
			<section class="sheet padding-15mm">
				<br><br>
				<div class="row">
					{% for asignatura in stats['asignaturas_recibidas_lista'][: 8] %}
						<div class="col-3 pb-4">
							<div class="card border-mutted">
								<div class="card-header text-center strong bg-info text-dark">
									<div class="text-truncate">
										{{asignatura.asignatura}}
										<span class="small">
											|
											{{asignatura.nombre}}</span>
									</div>
								</div>
								<div class="card-body">
									{% if diferencial_check(settings().diferencial, respuestas_pregunta_alumno_lista(tutoria.id, asignatura.id, stats['asignaturas_recibidas_lista'], stats['preguntas_con_respuesta_lista'])['respuestas_pregunta_media'], notas_pruebas_evaluables_alumno(
										tutoria.id,
										asignatura.id
									)['notas_alumno_media']) %}
										<span class="badge text-white badge-secondary float-right">
											resultados !
										</span>
									{% endif %}
									{% if diferencial_check(settings().diferencial, respuestas_tutoria_media_stats, respuestas_pregunta_alumno_lista(tutoria.id, asignatura.id, stats['asignaturas_recibidas_lista'], stats['preguntas_con_respuesta_lista'])['respuestas_pregunta_media']) %}
										<span class="badge badge-primary float-right mr-1">
											actitud !
										</span>
									{% endif %}
									{{highcharts_asignatura(char_id=asignatura.asignatura, asignatura=asignatura, alumno=alumno, grupo=grupo, tutoria_id=tutoria.id, stats=stats, grupo_stats=grupo_stats, notas_pruebas_evaluables_alumno=notas_pruebas_evaluables_alumno(tutoria.id, asignatura.id), notas_pruebas_evaluables_grupo=notas_pruebas_evaluables_grupo(tutoria.id, asignatura.id), respuestas_tutoria_media_stats=respuestas_tutoria_media_stats)}}
								</div>
							</div>
						</div>
					{% endfor %}
				</div>
			</section>
			<section class="sheet padding-15mm">
				<div class="row">
					{% for asignatura in stats['asignaturas_recibidas_lista'][9 : 18] %}
						<div class="col-3 pb-4">
							<div class="card border-mutted">
								<div class="card-header text-center strong bg-info text-dark">
									<div class="text-truncate">
										{{asignatura.asignatura}}
										<span class="small">
											|
											{{asignatura.nombre}}</span>
									</div>
								</div>
								<div class="card-body">
									{% if diferencial_check(settings().diferencial, respuestas_pregunta_alumno_lista(tutoria.id, asignatura.id, stats['asignaturas_recibidas_lista'], stats['preguntas_con_respuesta_lista'])['respuestas_pregunta_media'], notas_pruebas_evaluables_alumno(
										tutoria.id,
										asignatura.id
									)['notas_alumno_media']) %}
										<span class="badge text-white badge-secondary float-right">
											resultados !
										</span>
									{% endif %}
									{% if diferencial_check(settings().diferencial, respuestas_tutoria_media_stats, respuestas_pregunta_alumno_lista(tutoria.id, asignatura.id, stats['asignaturas_recibidas_lista'], stats['preguntas_con_respuesta_lista'])['respuestas_pregunta_media']) %}
										<span class="badge badge-primary float-right mr-1">
											actitud !
										</span>
									{% endif %}
									{{highcharts_asignatura(char_id=asignatura.asignatura, asignatura=asignatura, alumno=alumno, grupo=grupo, tutoria_id=tutoria.id, stats=stats, grupo_stats=grupo_stats, notas_pruebas_evaluables_alumno=notas_pruebas_evaluables_alumno(tutoria.id, asignatura.id), notas_pruebas_evaluables_grupo=notas_pruebas_evaluables_grupo(tutoria.id, asignatura.id), respuestas_tutoria_media_stats=respuestas_tutoria_media_stats)}}
								</div>
							</div>
						</div>
					{% endfor %}
				</div>
			</section>
		</body>
	</html>
